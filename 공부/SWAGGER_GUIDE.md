# π“– Swagger (OpenAPI 3) μ‚¬μ© λ° μ„¤μ • κ°€μ΄λ“

Roomhub ν”„λ΅μ νΈμ APIλ¥Ό μ‹κ°μ μΌλ΅ ν™•μΈν•κ³  ν…μ¤νΈν•κΈ° μ„ν• Swagger UI μ‚¬μ©λ²•μ„ μ •λ¦¬ν• λ¬Έμ„μ…λ‹λ‹¤.

---

## 1. Swagger UI μ ‘μ† λ°©λ²•

μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‹¤ν–‰ μ¤‘μΈ μƒνƒμ—μ„ λΈλΌμ°μ €λ¥Ό ν†µν•΄ μ•„λ μ£Όμ†λ΅ μ ‘μ†ν•©λ‹λ‹¤.

- **μ ‘μ† μ£Όμ†**: [http://localhost:8080/swagger-ui/index.html](http://localhost:8080/swagger-ui/index.html)
- **OpenAPI λ…μ„Έ(JSON)**: [http://localhost:8080/v3/api-docs](http://localhost:8080/v3/api-docs)

---

## 2. JWT μΈμ¦ (Authorization) μ‚¬μ© λ°©λ²•

λ€λ¶€λ¶„μ APIλ” μΈμ¦μ΄ ν•„μ”ν•©λ‹λ‹¤. Swagger UIμ—μ„ JWT ν† ν°μ„ μ‚¬μ©ν•μ—¬ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©λ²•μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1.  μΆμΈ΅ μƒλ‹¨μ **[Authorize]** λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.
2.  `Value` μ…λ ¥μ°½μ— λ΅κ·ΈμΈ ν›„ λ°κΈ‰λ°›μ€ **AccessToken**μ„ μ…λ ¥ν•©λ‹λ‹¤.
    - μμ‹: `eyJhbGciOiJIUzI1NiJ9...` (Bearerλ” μλ™μΌλ΅ λ¶™λ„λ΅ μ„¤μ •λμ–΄ μμΌλ―€λ΅ ν† ν°κ°’λ§ λ„£μΌμ…”λ„ λ©λ‹λ‹¤.)
3.  **[Authorize]** λ²„νΌμ„ λλ¬ μ„¤μ •μ„ μ™„λ£ν•κ³  **[Close]**λ¥Ό ν΄λ¦­ν•©λ‹λ‹¤.
4.  μ΄μ  μ κΈ μ•„μ΄μ½μ΄ ν™μ„±ν™”λλ©°, κ° APIμ **[Try it out]** λ²„νΌμ„ ν†µν•΄ ν…μ¤νΈλ¥Ό μ§„ν–‰ν•  μ μμµλ‹λ‹¤.

---

## 3. μ£Όμ” μ„¤μ • μ‚¬ν•­

### 1) μμ΅΄μ„± μ¶”κ°€ (`build.gradle`)
```gradle
implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.3.0'
```

### 2) μ„¤μ • ν΄λμ¤ (`SwaggerConfig.java`)
JWT μΈμ¦ λ²„νΌμ„ ν™μ„±ν™”ν•κΈ° μ„ν•΄ `SecurityScheme`μ„ λ“±λ΅ν–μµλ‹λ‹¤.
- **SecurityScheme Type**: HTTP
- **Scheme**: Bearer
- **BearerFormat**: JWT

### 3) λ³΄μ• μ„¤μ • (`SecurityConfig.java`)
Swagger UI κ΄€λ ¨ κ²½λ΅λ“¤μ΄ ν•„ν„°λ¥Ό ν†µκ³Όν•  μ μλ„λ΅ `permitAll` μ„¤μ •μ„ μ¶”κ°€ν–μµλ‹λ‹¤.
- `/v3/api-docs/**`
- `/swagger-ui/**`
- `/swagger-ui.html`

---

## 4. μ μ©ν• ν

- **Try it out**: API μƒμ„Έ νμ΄μ§€μ—μ„ μ΄ λ²„νΌμ„ λ„λ¥΄λ©΄ μ‹¤μ  νλΌλ―Έν„°λ¥Ό μ…λ ¥ν•κ³  μ‘λ‹µ κ²°κ³Όλ¥Ό μ‹¤μ‹κ°„μΌλ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.
- **Model**: ν•λ‹¨ Schema μμ—­μ—μ„ μ‘λ‹µ κ°μ²΄(`CommonResponse`, `User` λ“±)μ μƒμ„Έ κµ¬μ΅°λ¥Ό λ―Έλ¦¬ νμ•…ν•  μ μμµλ‹λ‹¤.
- **Request URL**: νΈμ¶ μ‹ μ‹¤μ λ΅ μ–΄λ–¤ URLκ³Ό ν—¤λ”κ°€ μ „μ†΅λλ”μ§€ ν™•μΈν•  μ μμ–΄ ν”„λ΅ νΈμ—”λ“ μ—°λ™ μ‹ μ°Έκ³ ν•κΈ° μΆ‹μµλ‹λ‹¤.

---

## 5. μƒ API λ“±λ΅ μ‹
μ»¨νΈλ΅¤λ¬μ— μƒλ΅μ΄ APIλ¥Ό μ¶”κ°€ν•λ©΄ μλ™μΌλ΅ μ¤μΊ”λμ–΄ Swaggerμ— λ“±λ΅λ©λ‹λ‹¤. λ” μƒμ„Έν• μ„¤λ…μ„ κΈ°μ¬ν•κ³  μ‹¶λ‹¤λ©΄ `@Operation`, `@ApiResponse` λ“±μ μ–΄λ…Έν…μ΄μ…μ„ μ»¨νΈλ΅¤λ¬ λ©”μ„λ“μ— μ¶”κ°€ν•  μ μμµλ‹λ‹¤.
