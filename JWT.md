# JWT(Json Web Token) 
- Json 기반의 토큰 형식으로, 클라이언트와 서버 간에 사용자 인증 정보와 기타 데이터 정보를 안전하게 주고 받는 방법<br>
- 보통 로그인 후 서버는 사용자에게 JWT를 발급, 사용자는 이후 요청마다 이 토큰을 함께 보내 인증을 대신<br><br>
## JWT 구조
**header.payload.signature** <br>

1. 헤더(Header)
   - 토큰 타입과 해싱 알고리즘 정보
```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```
2. 내용(Payload)
   - 실제 전달하고 싶은 정보(클레임, Claims)<br>
```json
   {
  "sub": "user123",
  "role": "admin",
  "iat": 1687163800,
  "exp": 1687167400
}
```
sub: 사용자 ID, iat: 발급 시간, exp: 만료 시간 등
3. 서명(Signature)
  - **앞의 헤더 + 페이로드**를 비밀키로 서명한 값
  - 위조 여부를 검증하는데 사용
    
```text
HMACSHA256(
  base64UrlEncode(header) + "." + base64UrlEncode(payload),
  secret
)
```

## JWT의 장점
|장점|설명|
|---------|---------|
|서버 무상태(Stateless)|서버가 세션을 저장하지 않아도 됨|
|확장성|분산 시스템에 적합 (세션 공유 불필요)|
|간결함|URL, HTTP 헤더 등에 넣기 쉬움|
|보안|서명을 통해 위조 방지 가능 (단, 암호화는 기본이 아님)|


## JWT의 주의점
|항목|설명|
|---------|---------|
|❌ 만료 전까지 유효|서버에서 강제로 로그아웃시키기 어려움 (리프레시 토큰 또는 블랙리스트 필요)|
|❌ 민감 정보 저장 금지|Payload는 인코딩만 되었지, 암호화되지 않음. 누구나 디코딩 가능|
|❌ 비밀키 유출 주|서명을 위한 secret key는 반드시 안전하게 관리해야 함|


## 🔄 JWT 사용 흐름 요약
1. 🔐 로그인 성공 → 서버가 JWT 발급
2. 📦 클라이언트가 JWT 저장 (예: 로컬스토리지, 쿠키)
3. 📤 이후 요청에 JWT 포함 (Authorization: Bearer <token>)
4. ✅ 서버는 토큰을 검증하고 사용자 인증 수행

   
