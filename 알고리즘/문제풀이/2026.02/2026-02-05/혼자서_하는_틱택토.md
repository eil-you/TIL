# 혼자서 하는 틱택토 (Java)

## 문제 설명
틱택토는 3x3 격자판에서 'O'와 'X'를 번갈아 놓으며 같은 모양 3개를 일렬(가로, 세로, 대각선)로 만들면 승리하는 게임입니다. 선공은 항상 'O'입니다. 주어진 게임판이 규칙을 지키며 나올 수 있는 상태인지 판별하는 문제입니다.

## 풀이 전략
이 문제는 정상적인 상태인지를 판단하기 위해 **"불가능한 케이스"**를 먼저 거르는 것이 핵심입니다.

1.  **개수 규칙**:
    - 선공이 'O'이므로 `O의 개수`는 `X의 개수`와 같거나 1개 더 많아야 합니다.
    - 즉, `cntO < cntX` 이거나 `cntO > cntX + 1` 이면 잘못된 상태입니다.
2.  **승리 조건**:
    - **가로, 세로, 대각선** 중 하나라도 3개가 완성되었는지 확인하는 `isWin(char ch)` 함수를 만듭니다.
3.  **승리 시점의 모순**:
    - **둘 다 승리**: 'O'와 'X'가 동시에 승리한 상태는 불가능합니다.
    - **'O' 승리**: 'O'가 이겼다면 게임이 즉시 종료되어야 하므로, `cntO == cntX + 1` 이어야 합니다. (개수가 같으면 'O'가 이긴 후 'X'가 더 둔 것)
    - **'X' 승리**: 'X'가 이겼다면 게임이 즉시 종료되어야 하므로, `cntO == cntX` 이어야 합니다. (O가 1개 더 많으면 'X'가 이긴 후 'O'가 더 둔 것)

## Java 구현 코드

```java
class Solution {
    public int solution(String[] board) {
        int cntO = 0;
        int cntX = 0;

        // 1. 개수 세기
        for (String row : board) {
            for (int i = 0; i < 3; i++) {
                if (row.charAt(i) == 'O') cntO++;
                else if (row.charAt(i) == 'X') cntX++;
            }
        }

        // 2. 기본 개수 규칙 위반 체크
        if (cntO < cntX || cntO > cntX + 1) return 0;

        boolean winO = isWin(board, 'O');
        boolean winX = isWin(board, 'X');

        // 3. 승리 조건에 따른 모순 체크
        if (winO && winX) return 0; // 둘 다 이김
        if (winO && cntO != cntX + 1) return 0; // O가 이겼는데 더 둠
        if (winX && cntO != cntX) return 0; // X가 이겼는데 더 둠

        return 1;
    }

    public boolean isWin(String[] board, char ch) {
        // 가로/세로 확인
        for (int i = 0; i < 3; i++) {
            if (board[i].charAt(0) == ch && board[i].charAt(1) == ch && board[i].charAt(2) == ch) return true;
            if (board[0].charAt(i) == ch && board[1].charAt(i) == ch && board[2].charAt(i) == ch) return true;
        }
        // 대각선 확인
        if (board[0].charAt(0) == ch && board[1].charAt(1) == ch && board[2].charAt(2) == ch) return true;
        if (board[0].charAt(2) == ch && board[1].charAt(1) == ch && board[2].charAt(0) == ch) return true;

        return false;
    }
}
```

## 핵심 요약
- **선공 후공의 개수 차이**(0 또는 1)를 먼저 확인합니다.
- 승리자가 결정된 순간 **그 이후에 누군가 더 두지는 않았는지** 개수로 검증하는 것이 이 문제의 정답 포인트입니다.
